<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>DIGI AI Studio</title>
    <script src="https://cdn.tailwindcss.com"></script>
</head>
<body class="bg-gray-900 text-white p-6">

    <h1 class="text-3xl font-bold mb-4">DIGI AI Studio</h1>

    <textarea id="prompt" placeholder="Describe your image..." class="w-full h-32 p-3 bg-gray-800 rounded-xl"></textarea>

    <button id="generateBtn" class="mt-4 bg-indigo-600 px-4 py-3 rounded-xl font-semibold w-full">
        Generate Image
    </button>

    <div id="loading" class="hidden mt-6 text-indigo-400 text-center font-semibold">Generating...</div>

    <div id="resultBox" class="mt-6 hidden">
        <img id="resultImg" class="max-w-full rounded-xl" />
    </div>

<script>
    // ðŸ‘‡ Yeh tumhare backend ka URL hoga (Render/Railway)
    const BACKEND_URL = "https://your-backend-url.onrender.com";

    document.getElementById("generateBtn").onclick = async () => {
        const prompt = document.getElementById("prompt").value.trim();
        if (!prompt) return alert("Enter a prompt");

        document.getElementById("loading").classList.remove("hidden");

        try {
            const res = await fetch(BACKEND_URL + "/generate", {
                method: "POST",
                headers: { "Content-Type": "application/json" },
                body: JSON.stringify({ prompt })
            });

            const data = await res.json();
            if (!data.image) throw new Error("No image returned");

            document.getElementById("resultImg").src = data.image;
            document.getElementById("resultBox").classList.remove("hidden");
        } 
        catch (err) {
            alert("Error: " + err.message);
        }
        
        document.getElementById("loading").classList.add("hidden");
    };
</script>

</body>
</html>
